# Event Processor

Event Processor es un subsistema dentro de Client, contiene las clases necesarias para la comunicación entre el servidor y el cliente, así como el hacerle llegar a los interesados de los eventos que se producen en el juego.

## Clases

![Figure1](/docs/imgs/Event_Processor.png)

_Figure 1. Diagrama de Clase Event Processor_

El diagrama editable se encuentra en [este link](https://drive.google.com/file/d/1tQQBzYy5k2U3UkgARrcpx_IKL318plb7/view?usp=sharing).

| Componente                    | Definición                                                                                                                                                                                                                                                                                                                                                                                                               |
| ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| NetworkConnection<T>          | Es la interfaz base para la interacción con el servidor. <ul><li>`SendEvent(T message):void`: Envía un mensaje al servidor.</li><li>`startConnection(String ip, int port): void`: Inicia la interacción con el servidor.</li><li>`stopConnection():void`: Detiene la conexión con el servidor.</li></ul>                                                                                                                 |
| NetworkEventConnection<Event> | Implementa de `NetworkConnection`, se encarga de la interacción con el servidor de eventos.                                                                                                                                                                                                                                                                                                                              |
| EventSubject                  | Es un observable que se encarga de notificar a los interesados de los eventos que se producen en el juego. <ul><li>`addObserver(EventObserver observer):void`: Agrega un observador a la lista de interesados.</li><li>`removeObserver(EventObserver observer):void`: Elimina un observador de la lista de interesados.</li><li>`notifyObservers(Event event):void`: Notifica a los observadores de un evento.</li></ul> |
| EventConsumer                 | Es la interfaz base para los consumidores de eventos. <ul><li>`consumeEvent(Event event):void`: Método que se ejecuta cuando se recibe un evento.</li></ul>                                                                                                                                                                                                                                                              |
| EventProducer                 | Es la interfaz encargada de crear los eventos, con la que los Presenter interactúan.                                                                                                                                                                                                                                                                                                                                     |
| EventManager                  | Maneja el flujo de los eventos. Actúa como `EventConsumer`, interactuando con `GameSystemFacade`; y su interacción de `EventProducer` la hace con NetworkEventConnection.                                                                                                                                                                                                                                                |
| GameSystemFacade              | Contiene métodos para interactuar con todo el juego. Puede hacer cambios de vistas, actualizaciones y mensajes de error.                                                                                                                                                                                                                                                                                                 |
| GameSystemFacadeImpl          | Implementación de `GameSystemFacade`. La interacción con el juego la hace a través de los Presenters                                                                                                                                                                                                                                                                                                                     |
| BasePresenter                 | Clase base para los presenters, que van a interactuar con un EventProducer.                                                                                                                                                                                                                                                                                                                                              |
| GamePresenter                 | Consultar información de este componente [en esta documentación](/docs//diagrams/Ejercer_Turno.md#clases)                                                                                                                                                                                                                                                                                                                |
| MainMenuPresenter             | Consultar información de este componente [en esta documentación](/docs/diagrams/Iniciar_Partida.md#clases)                                                                                                                                                                                                                                                                                                               |